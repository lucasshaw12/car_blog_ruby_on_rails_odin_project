<h1 class="display-6"><%= @article.title %></h1>

<div class="card">
  <div class="card-body">
    <h6 class="card-subtitle mb-2 text-body-secondary">Written by: <%= @article.user.username %></h6>
    <p class="card-text"><%= @article.body %> <%= pluralize(@article.views, "View") %></p>
    <ul class="ps-0">
  <li class="list-unstyled"> <%= link_to "Edit", edit_article_path(@article), :class => "link-primary link-offset-2 link-underline-opacity-0 link-underline-opacity-100-hover me-3" %>
    
    <%= link_to "Delete", article_path(@article), :class => "link-danger link-offset-2 link-underline-opacity-0 link-underline-opacity-100-hover",
    data: { turbo_method: :delete, turbo_confirm: "Are you sure?" } %>
  </li>
</ul>
<p class="timestamp">
  <u>Created on:</u> <%= @article.created_at.strftime("%d %b %y %H:%M:%S") %> 
  <u>Updated on:</u> <%= @article.updated_at.strftime("%d %b %y %H:%M:%S") %>
</p>
  </div>
</div>



<br>
<br>

<h2><u><%= pluralize(@article.comments.count, "comment") %></u></h2>
<%= render @article.comments %>

<h3>Add a comment</h3>
<% if user_signed_in? %>
  <%= render 'comments/form' %>
<% else %>
  <%= flash.now[:notice] = "Please #{link_to 'sign in', new_user_session_path}, or #{link_to 'register', new_user_registration_path } an account to comment.".html_safe %>
<% end %>